import{L as y}from"./index-jJKClDCJ.js";import{q as h}from"./index-3fOb6VN-.js";import{b as p}from"./tools-DqYFTpKB.js";import{c4 as v,R as g,S as x,aO as k,a9 as C}from"./antd-DotIiKV0.js";import{d as b,f as i,s as w,a5 as B,ac as L,ad as t,k as r,u as o,G as f,a8 as A}from"./vue-DIvP5FMT.js";const T=b({__name:"traffic-line",setup(F){const u=i(),c=w(),s=i(!0),n=i(!1);async function _(){var l;if(n.value)return;n.value=!0;const{data:d}=await h(),a=[];for(const e of d)a.push({hourly:e.hourly,type:"上传",value:e.u}),a.push({hourly:e.hourly,type:"下载",value:e.d}),a.push({hourly:e.hourly,type:"总量",value:e.traffic});c.value=new y(u.value,{data:a,padding:"auto",xField:"hourly",yField:"value",seriesField:"type",legend:{position:"right-top"},tooltip:{formatter:e=>({name:e.type,value:p(e.value)})},xAxis:{tickCount:14,title:{text:"小时(h)"}},yAxis:{label:{formatter:e=>p(e)}},smooth:!0}),s.value=!1,n.value=!1,(l=c.value)==null||l.render()}return(d,a)=>{const l=x,e=k,m=C;return B(),L(m,null,{title:t(()=>[r(o(v)),f(" 近7日小时流量图 ")]),extra:t(()=>[r(l,{loading:o(n),disabled:!o(s),type:"primary",onClick:_},{icon:t(()=>[r(o(g))]),default:t(()=>[f(" 加载数据 ")]),_:1},8,["loading","disabled"])]),default:t(()=>[A("div",{ref_key:"lineContainer",ref:u},[r(e,{loading:o(s),title:"",paragraph:{rows:4}},null,8,["loading"])],512)]),_:1})}}});export{T as _};
