import{e as F,v as G,u as K}from"./shop-BgVEtg-l.js";import{u as O}from"./index-4TapthzT.js";import{N as j,O as E,aa as H,aJ as J,aK as T,ab as X,av as Y,aX as Z,aY as $,aU as D,aZ as L,as as P,aS as Q,V as W,m as ee,F as ae}from"./antd-DWod4DQe.js";import{d as te,f as i,o as ne,a5 as oe,ac as le,ad as a,k as e,u as l,G as p,H as ue}from"./vue-DIvP5FMT.js";const de=te({__name:"coverEdit",props:{coverId:{type:Number,default:null}},emits:["closeModal"],setup(I,{emit:x}){const m=I,w=x,n=i({shopName:"",cycle:"ÊØèÊúà",category:"",price:0,hot:!1,linkShopId:[],orderIndex:0,item:[]}),d=i(""),c=i([]),f=i(!0);function v(u){w("closeModal",u)}async function U(){const{data:u}=await F();c.value=u.map(t=>({key:t.id.toString(),title:t.name})),f.value=!1}async function h(){const{data:u}=await G(m.coverId);n.value=u,d.value=u.item.join(`
`)}async function N(){n.value.item=d.value.split(/[\s\n]/),await K(n.value),O().success(m.coverId?"‰øùÂ≠òÊàêÂäüüòÑ":"Ê∑ªÂä†ÊàêÂäüüëè"),v(1)}return ne(()=>{m.coverId&&h(),U()}),(u,t)=>{const g=j,s=E,_=H,y=J,q=T,r=X,k=Y,b=Z,C=$,M=D,A=L,R=P,B=Q,S=W,V=ee,z=ae;return oe(),le(z,{model:l(n),layout:"vertical"},{default:a(()=>[e(r,{gutter:16},{default:a(()=>[e(_,{span:12},{default:a(()=>[e(s,{label:"ÂêçÁß∞",name:"shopName",rules:[{required:!0,message:"ÂïÜÂìÅÂêç‰∏çËÉΩ‰∏∫Á©∫"}]},{default:a(()=>[e(g,{value:l(n).shopName,"onUpdate:value":t[0]||(t[0]=o=>l(n).shopName=o)},null,8,["value"])]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{label:"ÂàÜÁ±ª",name:"category",rules:[{required:!0,message:"ÂàÜÁ±ª‰∏çËÉΩ‰∏∫Á©∫"}]},{default:a(()=>[e(q,{value:l(n).category,"onUpdate:value":t[1]||(t[1]=o=>l(n).category=o)},{default:a(()=>[e(y,{value:"cycle"},{default:a(()=>[p("Âæ™ÁéØ")]),_:1}),e(y,{value:"once"},{default:a(()=>[p("‰∏ÄÊ¨°ÊÄß")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(r,{gutter:16},{default:a(()=>[e(_,{span:8},{default:a(()=>[e(s,{label:"Âë®Êúü",name:"cycle",rules:[{required:!0,message:"Âë®Êúü‰∏çËÉΩ‰∏∫Á©∫"}]},{default:a(()=>[e(g,{value:l(n).cycle,"onUpdate:value":t[2]||(t[2]=o=>l(n).cycle=o)},null,8,["value"])]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{label:"‰ª∑Ê†º",name:"price",rules:[{required:!0,message:"‰ª∑Ê†º‰∏çËÉΩ‰∏∫Á©∫"}]},{default:a(()=>[e(k,{value:l(n).price,"onUpdate:value":t[3]||(t[3]=o=>l(n).price=o)},null,8,["value"])]),_:1})]),_:1}),e(_,{span:8},{default:a(()=>[e(s,{label:"ÊéíÂ∫è",name:"orderIndex",rules:[{required:!0,message:"ÊéíÂ∫è‰∏çËÉΩ‰∏∫Á©∫"}]},{default:a(()=>[e(k,{value:l(n).orderIndex,"onUpdate:value":t[4]||(t[4]=o=>l(n).orderIndex=o)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(r,null,{default:a(()=>[e(_,{span:8},{default:a(()=>[e(s,{label:"ÊòØÂê¶ÁÉ≠Èó®",name:"hot",rules:[{required:!0,message:"ÈÄâÊã©ÊòØÂê¶ÁÉ≠Èó®"}]},{default:a(()=>[e(C,{value:l(n).hot,"onUpdate:value":t[5]||(t[5]=o=>l(n).hot=o),name:"radioGroup"},{default:a(()=>[e(b,{value:!0},{default:a(()=>[p("ÊòØ")]),_:1}),e(b,{value:!1},{default:a(()=>[p("Âê¶")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(r,{gutter:16},{default:a(()=>[e(_,{span:24},{default:a(()=>[e(s,{label:"È°πÁõÆ",name:"item",rules:[{required:!0,message:"‰ª∑Ê†º‰∏çËÉΩ‰∏∫Á©∫"}]},{default:a(()=>[e(M,{value:l(d),"onUpdate:value":t[6]||(t[6]=o=>ue(d)?d.value=o:null),placeholder:"ËæìÂÖ•ÂàóË°®È°πÁõÆ","auto-size":{minRows:4,maxRows:10}},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(r,{gutter:16},{default:a(()=>[e(_,{span:24},{default:a(()=>[e(B,{spinning:l(f)},{default:a(()=>[e(s,{label:"ÂÖ≥ËÅîÂïÜÂìÅ",name:"linkShopId"},{default:a(()=>[e(A,{"target-keys":l(n).linkShopId,"onUpdate:targetKeys":t[7]||(t[7]=o=>l(n).linkShopId=o),"data-source":l(c),render:o=>o.title,titles:["ÂïÜÂìÅÂ∫ì","ÂÖ≥ËÅîÁöÑÂïÜÂìÅ"],pagination:""},null,8,["target-keys","data-source","render"]),e(R,{"un-checked-children":"enabled","checked-children":"disabled",style:{"margin-top":"16px"}})]),_:1})]),_:1},8,["spinning"])]),_:1})]),_:1}),e(r,{gutter:16},{default:a(()=>[e(V,{size:"middle"},{default:a(()=>[e(S,{type:"primary",onClick:N},{default:a(()=>[p(" Êèê‰∫§ ")]),_:1}),e(S,{type:"default",onClick:t[8]||(t[8]=o=>v(0))},{default:a(()=>[p(" ÂèñÊ∂à ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});export{de as _};
