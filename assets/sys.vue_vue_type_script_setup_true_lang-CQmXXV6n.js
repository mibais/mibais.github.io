import{s as N,v as C}from"./setting-DfAHZYTE.js";import{u as F}from"./index-BhAGI5mP.js";import{B as x,N as A,O as E,aa as L,ab as V,S as M,av as G,V as I,F as O}from"./antd-DWod4DQe.js";import{d as T,f as c,o as $,a5 as f,a3 as g,k as e,ad as a,G as v,u as t,F as j,al as q,ac as z}from"./vue-DIvP5FMT.js";const Q=T({__name:"sys",setup(D){const l=c({email:{},siteName:{value:""},siteBaseUrl:{value:""},linkBaseUrl:[]}),r=c(!1);async function U(){if(r.value)return;r.value=!0;const p=l.value.linkBaseUrl;l.value.linkBaseUrl=p.filter(m=>m);const n=F();try{await N(l.value)}finally{r.value=!1,n.success("‰øùÂ≠òÊàêÂäüüòÅ")}}async function k(){const{data:p}=await C("sys");l.value=p}return $(()=>{k()}),(p,n)=>{const m=x,_=A,s=E,o=L,i=V,b=M,B=G,y=I,S=O;return f(),g("div",null,[e(S,{model:t(l)},{default:a(()=>[e(m,null,{default:a(()=>[v("ÁΩëÁ´ôËÆæÁΩÆ")]),_:1}),e(i,{gutter:12},{default:a(()=>[e(o,{span:11},{default:a(()=>[e(s,{label:"Á´ôÁÇπÂêçÁß∞"},{default:a(()=>[e(_,{value:t(l).siteName.value,"onUpdate:value":n[0]||(n[0]=u=>t(l).siteName.value=u)},null,8,["value"])]),_:1})]),_:1}),e(o,{span:11},{default:a(()=>[e(s,{label:"ÁΩëÁ´ôÂú∞ÂùÄ"},{default:a(()=>[e(_,{value:t(l).siteBaseUrl.value,"onUpdate:value":n[1]||(n[1]=u=>t(l).siteBaseUrl.value=u)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:12},{default:a(()=>[(f(!0),g(j,null,q(t(l).linkBaseUrl,(u,d)=>(f(),z(o,{key:d,span:11},{default:a(()=>[e(s,{label:`ËÆ¢ÈòÖÂú∞ÂùÄ${d+1}`},{default:a(()=>[e(_,{value:t(l).linkBaseUrl[d],"onUpdate:value":w=>t(l).linkBaseUrl[d]=w},null,8,["value","onUpdate:value"])]),_:2},1032,["label"])]),_:2},1024))),128))]),_:1}),e(m,null,{default:a(()=>[v("ÈÇÆ‰ª∂Á≥ªÁªü")]),_:1}),e(i,{gutter:12},{default:a(()=>[e(o,{span:8},{default:a(()=>[e(s,{label:"ÈÇÆÁÆ±Âú∞ÂùÄ"},{default:a(()=>[e(_,{value:t(l).email.from,"onUpdate:value":n[2]||(n[2]=u=>t(l).email.from=u)},null,8,["value"])]),_:1})]),_:1}),e(o,{span:8},{default:a(()=>[e(s,{label:"smtpÊúçÂä°Âô®"},{default:a(()=>[e(_,{value:t(l).email.host,"onUpdate:value":n[3]||(n[3]=u=>t(l).email.host=u)},null,8,["value"])]),_:1})]),_:1}),e(o,{span:8},{default:a(()=>[e(s,{label:"ÂØÜÁ†Å"},{default:a(()=>[e(_,{value:t(l).email.pass,"onUpdate:value":n[4]||(n[4]=u=>t(l).email.pass=u)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,null,{default:a(()=>[e(o,{span:8},{default:a(()=>[e(s,{label:"ÂêØÁî®SSL"},{default:a(()=>[e(b,{checked:t(l).email.sslEnable,"onUpdate:checked":n[5]||(n[5]=u=>t(l).email.sslEnable=u)},null,8,["checked"])]),_:1})]),_:1}),e(o,{span:8},{default:a(()=>[e(s,{label:"Á´ØÂè£Âè∑"},{default:a(()=>[e(B,{value:t(l).email.port,"onUpdate:value":n[6]||(n[6]=u=>t(l).email.port=u)},null,8,["value"])]),_:1})]),_:1}),e(o,{span:8},{default:a(()=>[e(s,{label:"Áî®Êà∑Âêç"},{default:a(()=>[e(_,{value:t(l).email.user,"onUpdate:value":n[7]||(n[7]=u=>t(l).email.user=u)},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:12},{default:a(()=>[e(s,null,{default:a(()=>[e(y,{loading:t(r),type:"primary",onClick:U},{default:a(()=>[v(" ‰øùÂ≠ò ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])])}}});export{Q as _};
