import{v as u}from"./index-9gABA3s6.js";import{d}from"./index-CYpcxoBQ.js";import{g as l}from"./tools-B_7t6xz7.js";import{f as m,g as p}from"./index-SCXA_WO_.js";import{ah as _,J as g}from"./antd-Ckg-4fVb.js";import{d as h,f as v,a5 as y,ac as k,ad as i,k as n,u as r,G as w}from"./vue-CP9fVXMC.js";const S=h({__name:"double-auth",setup(C){const s=m(),c=p(),e=v(!1);async function f(o){if(!e.value){e.value=!0;try{const{data:a}=await d(o);c.value=a.token;const t=l("redirect","/");s.success({message:"验证成功",description:"不错~，即将为你跳转到用户主页",duration:2,onClose(){window.location.href=t}})}finally{e.value=!1}}}return(o,a)=>{const t=g;return y(),k(u,{"verify-loading":r(e),onHandleSubmit:f},{title:i(()=>[n(r(_)),w(" 两步验证已开启 ")]),head:i(()=>[n(t,{message:"请输入你在绑定的验证器中看到的验证码",type:"info","show-icon":""})]),_:1},8,["verify-loading"])}}});export{S as default};
