import{_ as x}from"./geetest-captcha.vue_vue_type_script_setup_true_lang-DB3Ls_t5.js";import{y as V}from"./index-DkOGwy-T.js";import{c9 as v,V as h}from"./antd-9nlSCyVV.js";import{d as w,s as l,f as B,a5 as c,a3 as C,k as f,u as s,H as R,ac as N,ad as u,G as T,af as q,ag as A,F}from"./vue-BVKynzoK.js";const O="c59eeefda54b5a5789869ede615321a3",j=w({__name:"geetest",props:{registerParam:{type:Object,required:!0},registerText:{type:String,required:!0}},emits:["register","beforeVerify"],setup(r,{expose:m,emit:d}){const p=r,o=l(),g=d,a=l(!1),e=B(!1);function y(){o.value.showCaptcha()}async function _(n){a.value=!0;try{await V({...p.registerParam,extra:n})}finally{a.value=!1}}return m({passValid:y}),(n,t)=>{const b=x,k=h;return c(),C(F,null,[f(b,{ref_key:"geetestRef",ref:o,load:s(e),"onUpdate:load":t[0]||(t[0]=i=>R(e)?e.value=i:null),"captcha-id":O,onVerify:_},null,8,["load"]),s(e)?(c(),N(k,{key:0,block:"",type:"primary",loading:a.value,size:"large",onClick:t[1]||(t[1]=i=>g("beforeVerify"))},{icon:u(()=>[f(s(v))]),default:u(()=>[T(" "+q(r.registerText),1)]),_:1},8,["loading"])):A("",!0)],64)}}});export{j as default};
