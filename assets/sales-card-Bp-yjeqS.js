import{C as F}from"./index-kI4INTZT.js";import{d as r,aL as Y,aa as M,ab as N,y as V,T as A,a9 as $}from"./antd-BeZGkD-C.js";import{d as j,f,s as z,o as H,j as q,a5 as h,ac as O,ad as l,a8 as e,k as o,u as U,a3 as I,F as B,al as L,ah as T,af as u,a6 as W,a7 as G}from"./vue-CP9fVXMC.js";import{_ as J}from"./index-BkKfhlZ4.js";import"./vec2-BmKV7c4I.js";const E=d=>(W("data-v-2bb4271f"),d=d(),G(),d),K={class:"salesCard"},Q={class:"salesExtraWrap"},X={class:"salesBar"},Z={class:"salesRank"},ee=E(()=>e("h4",{class:"rankingTitle"}," 门店销售额排名 ",-1)),ae={class:"rankingList"},te=["title"],se={class:"rankingItemValue"},ne={class:"salesBar"},le={class:"salesRank"},oe=E(()=>e("h4",{class:"rankingTitle"}," 门店访问量排名 ",-1)),re={class:"rankingList"},ce=["title"],ie={class:"rankingItemValue"},ue=j({__name:"sales-card",props:{loading:{type:Boolean,default:!1}},setup(d){const y=[];for(let t=0;t<7;t+=1)y.push({title:`工专路 ${t} 号店`,total:323234});const _=f();function k(t){const a=new Date;let n,s;switch(t){case"day":_.value=[r(new Date(a.getFullYear(),a.getMonth(),a.getDate())),r(new Date(a.getFullYear(),a.getMonth(),a.getDate(),23,59,59,999))];break;case"week":n=new Date(a.setDate(a.getDate()-a.getDay())),s=new Date(a.setDate(a.getDate()+6)),_.value=[r(n),r(s)];break;case"month":n=new Date(a.getFullYear(),a.getMonth(),1),s=new Date(a.getFullYear(),a.getMonth()+1,0),_.value=[r(n),r(s)];break;case"year":n=new Date(a.getFullYear(),0,1),s=new Date(a.getFullYear(),11,31),_.value=[r(n),r(s)];break;default:return null}}k("day");function g(t){var a,n,s;(n=(a=t.target)==null?void 0:a.parentElement)==null||n.querySelectorAll("a").forEach(p=>{p.classList.remove("currentDate")}),(s=t.target)==null||s.classList.add("currentDate"),k(t.target.__vnode.key)}function x(t){return t.toLocaleString()}const v=[{x:"1月",y:809},{x:"2月",y:766},{x:"3月",y:585},{x:"4月",y:763},{x:"5月",y:853},{x:"6月",y:898},{x:"7月",y:1096},{x:"8月",y:452},{x:"9月",y:244},{x:"10月",y:838},{x:"11月",y:673},{x:"12月",y:431}],D=f(),b=f();let w=!1;function R(t){t==="views"&&!w&&setTimeout(()=>{new F(b.value,{data:v,xField:"x",yField:"y",height:300,xAxis:{label:{autoHide:!0,autoRotate:!1}},meta:{y:{alias:"销售量"}}}).render(),w=!0})}const m=z();return H(()=>{var t;m.value=new F(D.value,{data:v,xField:"x",yField:"y",height:300,xAxis:{label:{autoHide:!0,autoRotate:!1}},meta:{y:{alias:"销售量"}}}),(t=m.value)==null||t.render()}),q(()=>{var t;(t=m.value)==null||t.destroy(),m.value=void 0}),(t,a)=>{const n=Y,s=M,p=N,C=V,S=A,P=$;return h(),O(P,{loading:d.loading,bordered:!1,"body-style":{padding:0}},{default:l(()=>[e("div",K,[o(S,{size:"large","tab-bar-style":{marginBottom:"24px"},onChange:R},{rightExtra:l(()=>[e("div",Q,[e("div",{class:"salesExtra"},[e("a",{key:"day",class:"currentDate",onClick:g},"今日"),e("a",{key:"week",onClick:g},"本周"),e("a",{key:"month",onClick:g},"本月"),e("a",{key:"year",onClick:g},"本年")]),o(n,{value:U(_),allowEmpty:[!0,!0],style:{width:"256px"}},null,8,["value"])])]),default:l(()=>[o(C,{key:"sales",tab:"销售额"},{default:l(()=>[o(p,null,{default:l(()=>[o(s,{xl:16,lg:12,md:12,sm:24,xs:24},{default:l(()=>[e("div",X,[e("div",{ref_key:"columnPlotContainer1",ref:D},null,512)])]),_:1}),o(s,{xl:8,lg:12,md:12,sm:24,xs:24},{default:l(()=>[e("div",Z,[ee,e("ul",ae,[(h(),I(B,null,L(y,(c,i)=>e("li",{key:i},[e("span",{class:T(`rankingItemNumber ${i<3?"active":""}`)},u(i+1),3),e("span",{class:"rankingItemTitle",title:c.title},u(c.title),9,te),e("span",se,u(x(c.total)),1)])),64))])])]),_:1})]),_:1})]),_:1}),o(C,{key:"views",tab:"访问量"},{default:l(()=>[o(p,null,{default:l(()=>[o(s,{xl:16,lg:12,md:12,sm:24,xs:24},{default:l(()=>[e("div",ne,[e("div",{ref_key:"columnPlotContainer2",ref:b},null,512)])]),_:1}),o(s,{xl:8,lg:12,md:12,sm:24,xs:24},{default:l(()=>[e("div",le,[oe,e("ul",re,[(h(),I(B,null,L(y,(c,i)=>e("li",{key:i},[e("span",{class:T(`rankingItemNumber ${i<3?"active":""}`)},u(i+1),3),e("span",{class:"rankingItemTitle",title:c.title},u(c.title),9,ce),e("span",ie,u(x(c.total)),1)])),64))])])]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1},8,["loading"])}}}),ye=J(ue,[["__scopeId","data-v-2bb4271f"]]);export{ye as default};
