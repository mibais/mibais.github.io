import{v as f}from"./index-B_Hx1-hb.js";import{d}from"./index-7nDukLpG.js";import{g as l}from"./tools-BUV-nHMd.js";import{g as m,h as p}from"./index-PoV8YKeN.js";import{ah as _,K as g}from"./antd-9nlSCyVV.js";import{d as h,f as v,a5 as y,ac as k,ad as i,k as n,u as r,G as w}from"./vue-BVKynzoK.js";const S=h({__name:"double-auth",setup(C){const s=m(),c=p(),e=v(!1);async function u(o){if(!e.value){e.value=!0;try{const{data:a}=await d(o);c.value=a.token;const t=l("redirect","/");s.success({message:"验证成功",description:"不错~，即将为你跳转到用户主页",duration:2,onClose(){window.location.href=t}})}finally{e.value=!1}}}return(o,a)=>{const t=g;return y(),k(f,{"verify-loading":r(e),onHandleSubmit:u},{title:i(()=>[n(r(_)),w(" 两步验证已开启 ")]),head:i(()=>[n(t,{message:"请输入你在绑定的验证器中看到的验证码",type:"info","show-icon":""})]),_:1},8,["verify-loading"])}}});export{S as default};
