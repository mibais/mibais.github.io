import{_ as w}from"./index.vue_vue_type_script_setup_true_lang-CUJywhYo.js";import{a as z}from"./index-DOzVDtwL.js";import{ao as S,J as y,an as v,a9 as C,aa as I,ab as k}from"./antd-CrhK6lnF.js";import{d as b,f as c,r as B,o as $,a5 as J,ac as N,ad as n,k as e,u as s,a8 as i}from"./vue-DIvP5FMT.js";import"./index-DxqUt8yl.js";import"./context-CB1oVZ4d.js";const V=i("span",{"text-20px":"","line-height-32px":"","mr-12px":"","mb-0":"",truncate:"","font-600":""},"审计规则",-1),A=i("ul",null,[i("li",null,"系统中所有审计记录。"),i("li",null,"关于隐私：注意，我们仅用以下规则进行实时匹配和记录匹配到的规则，您的通信方向和通信内容我们不会做任何记录，请您放心。也请您理解我们对于这些不当行为的管理，谢谢")],-1),q=b({__name:"rule",setup(D){const o=c(!1),u=c([{title:"ID",dataIndex:"id",width:10},{title:"名称",dataIndex:"name",width:20},{title:"描述",dataIndex:"text",width:20},{title:"正则表达式",dataIndex:"regex",width:50}]),_=c(),a=B({pageSize:10,current:1,total:0,pageSizeOptions:["10","20","30","40"],showSizeChanger:!0,showQuickJumper:!0,showTotal:t=>`${t}条记录`,onChange(t,l){a.pageSize=l,a.current=t,r()}});async function r(){if(!o.value){o.value=!0;try{const{data:t}=await z({size:a.pageSize,current:a.current});_.value=t.records,a.total=t.total,a.pageSize=t.size,a.current=t.current}finally{o.value=!1}}}return $(()=>{r()}),(t,l)=>{const p=S,d=y,m=v,g=C,f=I,h=k,x=w;return J(),N(x,null,{title:n(()=>[V]),default:n(()=>[e(d,{message:"提示",type:"info","show-icon":""},{description:n(()=>[e(p,null,{default:n(()=>[A]),_:1})]),_:1}),e(h,{"mt-5":""},{default:n(()=>[e(f,{span:24},{default:n(()=>[e(g,{title:"规则明细"},{default:n(()=>[e(m,{loading:s(o),columns:s(u),"data-source":s(_),pagination:s(a),scroll:{x:100}},null,8,["loading","columns","data-source","pagination"])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{q as default};
