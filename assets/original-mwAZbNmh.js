import{k as c,A as m}from"./index-PoV8YKeN.js";import{V as p}from"./antd-9nlSCyVV.js";import{d,s as g,a5 as b,ac as y,ad as x,G as k,af as _,u as V}from"./vue-BVKynzoK.js";const C=d({__name:"original",props:{loginParam:{type:Object,required:!0},loginText:{type:String,required:!0}},emits:["submit","beforeVerify"],setup(o,{expose:r,emit:i}){const n=o,t=i,a=g(!1);function l(){u()}async function u(){a.value=!0;try{const e=await c(n.loginParam);t("submit",e.code!=200?{res:!1,errMsg:e.msg}:{res:!0,token:e.data.token})}catch(e){e instanceof m&&t("submit",!1)}finally{a.value=!1}}return r({passValid:l}),(e,s)=>{const f=p;return b(),y(f,{type:"primary",block:"",loading:V(a),size:"large",onClick:s[0]||(s[0]=v=>t("beforeVerify"))},{default:x(()=>[k(_(o.loginText),1)]),_:1},8,["loading"])}}});export{C as default};
